_candidate_import: &candidate_import
    source: candidate
    data: candidate
    party_code: DEM
    candidates:
        - "Bernard Sanders"
    map:
        candidate_id:
            column: candidate_id
            validators:
                string:
                    empty: false
        first_name:
            column: first_name
            validators:
                string:
                    empty: false
        last_name:
            column: last_name
            validators:
                string:
                    empty: false
        office:
            column: office
            validators:
                string:
                    pattern: "^(House|Senate|President)$"
        state:
            column: state
            validators:
                string:
                    pattern: "^[A-Z]+$"
        district:
            column: district
            validators:
                number:
                    min: 0
        party:
            column: party
            validators:
                string:
                    empty: false

_committee_import: &committee_import
    source: committee
    data: committee
    relations:
        candidates:
            data: candidate
            id: candidate_id
            column: candidate_ids
            multiple: true
            separator: ","
            required: true
    map:
        committee_id:
            column: committee_id
            validators:
                string:
                    empty: false
        name:
            column: name
            validators:
                string:
                    empty: false
        type:
            column: type
            validators:
                string:
                    empty: false
        designation:
            column: designation
            validators:
                string:
                    empty: false
        filing_frequency:
            column: filing_frequency
            validators:
                string:
                    pattern: "^[A-Z]$"
        state:
            column: state
            validators:
                string:
                    pattern: "^[A-Z]+$"
        party:
            column: party
            validators:
                string:
                    empty: false

_receipt_import: &receipt_import
    source: receipt
    data:
        contributor:
            map:
                contributor_id:
                    column: contributor_id
                    validators:
                        string:
                            empty: false
                first_name:
                    column: contributor_first_name
                    validators:
                        string:
                            empty: false
                middle_name:
                    column: contributor_middle_name
                last_name:
                    column: contributor_last_name
                    validators:
                        string:
                            empty: false
                address_1:
                    column: contributor_street_1
                address_2:
                    column: contributor_street_2
                city:
                    column: contributor_city
                state:
                    column: contributor_state
                zip:
                    column: contributor_zip
                employer:
                    column: contributor_employer
                occupation:
                    column: contributor_occupation
        receipt:
            requires: contributor
            relations:
                contributor_id:
                    data: contributor
                    id: contributor_id
                    column: contributor_id
                    required: true
                committee_id:
                    data: committee
                    id: committee_id
                    column: committee_id
                    required: true
            map:
                transaction_id:
                    column: transaction_id
                    validators:
                        string:
                            empty: false
                year:
                    column: report_year
                    validators:
                        number:
                            min: 0
                type:
                    column: election_type
                    validators:
                        string:
                            pattern: "^[A-Z]([0-9]+)?$"
                amount:
                    column: contribution_receipt_amount
                    validators:
                        number:
                            min: 0

import:
    president-2016:
        <<: *candidate_import
        tags: [2016, president, candidate]
        year: 2016
        office_code: P

    house-2016:
        <<: *candidate_import
        tags: [2016, house, candidate]
        year: 2016
        office_code: H

    senate-2016:
        <<: *candidate_import
        tags: [2016, senate, candidate]
        year: 2016
        office_code: S

    house-2018:
        <<: *candidate_import
        tags: [2018, house, candidate]
        year: 2018
        office_code: H

    senate-2018:
        <<: *candidate_import
        tags: [2018, senate, candidate]
        year: 2018
        office_code: S

    president-2020:
        <<: *candidate_import
        tags: [2020, president, candidate]
        year: 2016
        office_code: P

    house-2020:
        <<: *candidate_import
        tags: [2020, house, candidate]
        year: 2016
        office_code: H

    senate-2020:
        <<: *candidate_import
        tags: [2020, senate, candidate]
        year: 2020
        office_code: S

    house-committee-2016:
        <<: *committee_import
        tags: [2016, house, candidate-committee, committee]
        requires: house-2016
        year: 2016
        type_code: H

    senate-committee-2016:
        <<: *committee_import
        tags: [2016, senate, candidate-committee, committee]
        requires: senate-2016
        year: 2016
        type_code: S

    president-committee-2016:
        <<: *committee_import
        tags: [2016, president, candidate-committee, committee]
        requires: president-2016
        year: 2016
        type_code: P

    pac-nonqualified-committee-2016:
        <<: *committee_import
        tags: [2016, pac, committee]
        requires: [president-2016, house-2016, senate-2016]
        year: 2016
        type_code: N

    pac-independent-committee-2016:
        <<: *committee_import
        tags: [2016, pac, committee]
        requires: [president-2016, house-2016, senate-2016]
        year: 2016
        type_code: O

    pac-qualified-committee-2016:
        <<: *committee_import
        tags: [2016, pac, committee]
        requires: [president-2016, house-2016, senate-2016]
        year: 2016
        type_code: Q

    party-nonqualified-committee-2016:
        <<: *committee_import
        tags: [2016, party, committee]
        requires: [president-2016, house-2016, senate-2016]
        year: 2016
        type_code: X

    party-qualified-committee-2016:
        <<: *committee_import
        tags: [2016, party, committee]
        requires: [president-2016, house-2016, senate-2016]
        year: 2016
        type_code: Y

    party-non-federal-committee-2016:
        <<: *committee_import
        tags: [2016, party, committee]
        requires: [president-2016, house-2016, senate-2016]
        year: 2016
        type_code: Z

    house-committee-2018:
        <<: *committee_import
        tags: [2018, house, candidate-committee, committee]
        requires: house-2018
        year: 2018
        type_code: H

    senate-committee-2018:
        <<: *committee_import
        tags: [2018, senate, candidate-committee, committee]
        requires: senate-2018
        year: 2018
        type_code: S

    pac-nonqualified-committee-2018:
        <<: *committee_import
        tags: [2018, pac, committee]
        requires: [house-2018, senate-2018]
        year: 2018
        type_code: N

    pac-independent-committee-2018:
        <<: *committee_import
        tags: [2018, pac, committee]
        requires: [house-2018, senate-2018]
        year: 2018
        type_code: O

    pac-qualified-committee-2018:
        <<: *committee_import
        tags: [2018, pac, committee]
        requires: [house-2018, senate-2018]
        year: 2018
        type_code: Q

    party-nonqualified-committee-2018:
        <<: *committee_import
        tags: [2018, party, committee]
        requires: [house-2018, senate-2018]
        year: 2018
        type_code: X

    party-qualified-committee-2018:
        <<: *committee_import
        tags: [2018, party, committee]
        requires: [house-2018, senate-2018]
        year: 2018
        type_code: Y

    party-non-federal-committee-2018:
        <<: *committee_import
        tags: [2018, party, committee]
        requires: [house-2018, senate-2018]
        year: 2018
        type_code: Z

    house-committee-2020:
        <<: *committee_import
        tags: [2020, house, candidate-committee, committee]
        requires: house-2020
        year: 2020
        type_code: H

    senate-committee-2020:
        <<: *committee_import
        tags: [2020, senate, candidate-committee, committee]
        requires: senate-2020
        year: 2020
        type_code: S

    president-committee-2020:
        <<: *committee_import
        tags: [2020, president, candidate-committee, committee]
        requires: president-2020
        year: 2020
        type_code: P

    pac-nonqualified-committee-2020:
        <<: *committee_import
        tags: [2020, pac, committee]
        requires: [president-2020, house-2020, senate-2020]
        year: 2020
        type_code: N

    pac-independent-committee-2020:
        <<: *committee_import
        tags: [2020, pac, committee]
        requires: [president-2020, house-2020, senate-2020]
        year: 2020
        type_code: O

    pac-qualified-committee-2020:
        <<: *committee_import
        tags: [2020, pac, committee]
        requires: [president-2020, house-2020, senate-2020]
        year: 2020
        type_code: Q

    party-nonqualified-committee-2020:
        <<: *committee_import
        tags: [2020, party, committee]
        requires: [president-2020, house-2020, senate-2020]
        year: 2020
        type_code: X

    party-qualified-committee-2020:
        <<: *committee_import
        tags: [2020, party, committee]
        requires: [president-2020, house-2020, senate-2020]
        year: 2020
        type_code: Y

    party-non-federal-committee-2020:
        <<: *committee_import
        tags: [2020, party, committee]
        requires: [president-2020, house-2020, senate-2020]
        year: 2020
        type_code: Z

    committee-receipts-2016:
        <<: *receipt_import
        tags: [2016, receipt]
        requires: [house-committee-2016, senate-committee-2016, president-committee-2016, pac-nonqualified-committee-2016, pac-independent-committee-2016, pac-qualified-committee-2016, party-nonqualified-committee-2016, party-qualified-committee-2016, party-non-federal-committee-2016]
        year: 2016

    committee-receipts-2018:
        <<: *receipt_import
        tags: [2018, receipt]
        requires: [house-committee-2018, senate-committee-2018, pac-nonqualified-committee-2018, pac-independent-committee-2018, pac-qualified-committee-2018, party-nonqualified-committee-2018, party-qualified-committee-2018, party-non-federal-committee-2018]
        year: 2018

    committee-receipts-2020:
        <<: *receipt_import
        tags: [2020, receipt]
        requires: [house-committee-2020, senate-committee-2020, president-committee-2020, pac-nonqualified-committee-2020, pac-independent-committee-2020, pac-qualified-committee-2020, party-nonqualified-committee-2020, party-qualified-committee-2020, party-non-federal-committee-2020]
        year: 2020
